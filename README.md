# 🎮 Bulls And Cows
</br>

## 📌 프로젝트 개요
본 프로젝트는 팀스파르타코딩클럽 내일배움캠프의 'Unreal 기반 3D 게임 개발자 양성과정' 2기 Ch04의 9번 과제인 **Bulls And Cows (숫자 야구 게임)**을 기반으로 한 C++ 네트워크 게임 구현입니다.   

- **프로젝트 기간**: 2025.03.10 ~ 2025.03.26  
- **진행 방식**: 언리얼 C++ 기반 서버-클라이언트 구조, 전부 C++로 구현 (BP 최소화)   
</br>

---

## 🎯 필수 기능

### ✅ 1. GameMode 서버 로직
- 채팅 명령어 `/123` 형식으로 입력된 값을 분석하여 게임 진행
- GameMode가 모든 게임 흐름(판정, 시도 관리, 턴, 결과 처리)을 주도
</br>

### ✅ 2. 3자리 난수 생성 로직
- 1~9 사이 중복 없는 숫자 3개를 무작위로 생성
- `UBACLibrary::GenerateRandomNumber()`로 C++로 분리 구현
</br>

### ✅ 3. 판정 로직 (S/B/OUT)
- `UBACLibrary::CheckInputValue()`에서 정답과 입력값 비교
- 자리수와 값이 같으면 스트라이크(S), 자리수는 다르나 값이 같으면 볼(B), 둘 다 아니면 OUT
</br>

### ✅ 4. 시도 횟수 및 상태 관리
- 플레이어당 최대 3OUT 또는 9회 시도 제한
- 잘못된 입력 (중복 포함, 3자리 미만, 띄어쓰기, 0 포함 등)은 OUT 처리
- GameState에서 각 플레이어의 시도 및 OUT 횟수를 추적
</br>

### ✅ 5. 승리, 무승부, 게임 리셋 처리
- 3S를 맞추면 즉시 승리
- 상대가 OUT되거나 기회를 모두 소진하면 자동 승리
- 승부가 나지 않으면 무승부로 간주, 자동 게임 리셋
</br>

### ✅ 6. C++ 라이브러리 구조화
- 블루프린트로 구현되어 있던 난수 생성 및 판정 로직을 **C++ 라이브러리 클래스로 분리**하여 관리
- 게임 성능 최적화 및 로직 재사용성 강화
</br>

---

## 🏆 도전 과제

### 🔥 1. 유저 간 턴 자동 관리 시스템
- GameState에서 플레이어 순서 저장
- 랜덤으로 선 플레이어 지정 후 순차적으로 턴 진행
- `EndTurn()` 호출 시 자동 다음 플레이어로 전환
</br>

### 🔥 2. 제한 시간 기능
- 각 턴에 대해 30초 타이머 설정  
- 제한 시간 초과 시 OUT 또는 턴 종료 처리
</br>

---

## 🛠 추가로 구현한 기능

- HUD에 채팅 위젯 자동 부착
- 서버 메시지 브로드캐스트 기능
- `BACLibrary`를 통한 판정 로직 및 난수 생성 분리
- 다양한 채팅 메시지 타입 지원 (`EChatMessageType` Enum 사용)   
</br>

---

## 📂 프로젝트 구조

```
/Source
 └── BullsAndCows
     ├── BACGameMode.h / .cpp          // 서버 로직 및 메시지 처리
     ├── BACGameState.h / .cpp         // 게임 상태 관리 및 턴 로직
     ├── BACPlayerController.h / .cpp  // 입력 및 채팅 전송
     ├── BACGameHUD.h / .cpp           // 채팅 UI 관리
     ├── Chatting.h / .cpp             // 채팅 위젯
     ├── ChatMessage.h / .cpp          // 채팅 메시지 위젯
     ├── BACLibrary.h / .cpp           // 난수 생성 및 입력 판정 로직
     ├── BullsAndCows.h / .cpp         // 메인 모듈
     └── BullsAndCows.Build.cs

```
</br>

---

## 🔧 실행 방법
1. 프로젝트 실행 시 서버가 플레이어 수를 체크하며 최소 2명 접속 시 자동 시작
2. 채팅창에서 `/123` 형태로 입력 시 게임 진행
3. 시스템 메시지를 통해 진행 상황 실시간 확인
</br>

---
